import{_ as i,c as a,o as n,ab as p}from"./chunks/framework.BHnvhWw7.js";const F=JSON.parse('{"title":"é€ è½®å­ å•æ–‡ä»¶ç®¡å¤šé¡¹ç›®éƒ¨ç½²ï¼ŒGit æœåŠ¡å™¨å…¨æå®š","description":"ä¸€ä¸ªç±»ä¼¼ Adminer.php çš„å•æ–‡ä»¶ PHP ä»£ç éƒ¨ç½²å·¥å…·ï¼Œæ”¯æŒ Git + SSH éƒ¨ç½²ï¼Œç®€å•æ˜“ç”¨ï¼Œä¸€ä¸ªæ–‡ä»¶æå®šæ‰€æœ‰éƒ¨ç½²éœ€æ±‚ã€‚","frontmatter":{"title":"é€ è½®å­ å•æ–‡ä»¶ç®¡å¤šé¡¹ç›®éƒ¨ç½²ï¼ŒGit æœåŠ¡å™¨å…¨æå®š","date":"2025-11-05T10:00:00.000Z","tags":["å·¥å…·","PHP","éƒ¨ç½²","Git","SSH"],"description":"ä¸€ä¸ªç±»ä¼¼ Adminer.php çš„å•æ–‡ä»¶ PHP ä»£ç éƒ¨ç½²å·¥å…·ï¼Œæ”¯æŒ Git + SSH éƒ¨ç½²ï¼Œç®€å•æ˜“ç”¨ï¼Œä¸€ä¸ªæ–‡ä»¶æå®šæ‰€æœ‰éƒ¨ç½²éœ€æ±‚ã€‚","author":"PFinalå—ä¸","keywords":"å•æ–‡ä»¶éƒ¨ç½²å·¥å…·, PHPéƒ¨ç½², Gitéƒ¨ç½², SSHéƒ¨ç½², è‡ªåŠ¨åŒ–éƒ¨ç½²","head":[["link",{"rel":"canonical","href":"https://friday-go.icu/Tools/å•æ–‡ä»¶ä»£ç éƒ¨ç½²å·¥å…·"}],["meta",{"name":"keywords","content":"å•æ–‡ä»¶éƒ¨ç½²å·¥å…·, PHPéƒ¨ç½², Gitéƒ¨ç½², SSHéƒ¨ç½², è‡ªåŠ¨åŒ–éƒ¨ç½², PFinalClub, Golangæ•™ç¨‹, Goåç«¯å¼€å‘, Goå¾®æœåŠ¡, PHP, Python, æŠ€æœ¯åšå®¢"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"TechArticle\\",\\"headline\\":\\"é€ è½®å­ å•æ–‡ä»¶ç®¡å¤šé¡¹ç›®éƒ¨ç½²ï¼ŒGit æœåŠ¡å™¨å…¨æå®š\\",\\"url\\":\\"https://friday-go.icu/Tools/å•æ–‡ä»¶ä»£ç éƒ¨ç½²å·¥å…·\\",\\"datePublished\\":\\"2025-11-05T10:00:00.000Z\\",\\"dateModified\\":1765448751000,\\"author\\":{\\"@type\\":\\"Person\\",\\"name\\":\\"PFinalå—ä¸\\",\\"url\\":\\"https://friday-go.icu/about\\"},\\"publisher\\":{\\"@type\\":\\"Organization\\",\\"name\\":\\"PFinalClub\\",\\"logo\\":{\\"@type\\":\\"ImageObject\\",\\"url\\":\\"https://friday-go.icu/logo.png\\"}},\\"description\\":\\"ä¸€ä¸ªç±»ä¼¼ Adminer.php çš„å•æ–‡ä»¶ PHP ä»£ç éƒ¨ç½²å·¥å…·ï¼Œæ”¯æŒ Git + SSH éƒ¨ç½²ï¼Œç®€å•æ˜“ç”¨ï¼Œä¸€ä¸ªæ–‡ä»¶æå®šæ‰€æœ‰éƒ¨ç½²éœ€æ±‚ã€‚\\",\\"inLanguage\\":\\"zh-CN\\",\\"mainEntityOfPage\\":{\\"@type\\":\\"WebPage\\",\\"@id\\":\\"https://friday-go.icu/Tools/å•æ–‡ä»¶ä»£ç éƒ¨ç½²å·¥å…·\\"},\\"keywords\\":\\"å•æ–‡ä»¶éƒ¨ç½²å·¥å…·, PHPéƒ¨ç½², Gitéƒ¨ç½², SSHéƒ¨ç½², è‡ªåŠ¨åŒ–éƒ¨ç½²\\"}"]]},"headers":[],"relativePath":"Tools/å•æ–‡ä»¶ä»£ç éƒ¨ç½²å·¥å…·.md","filePath":"Tools/å•æ–‡ä»¶ä»£ç éƒ¨ç½²å·¥å…·.md","lastUpdated":1765448751000}'),l={name:"Tools/å•æ–‡ä»¶ä»£ç éƒ¨ç½²å·¥å…·.md"};function h(t,s,k,e,r,d){return n(),a("div",{"data-pagefind-body":!0,"data-pagefind-meta":"date:1762336800000"},s[0]||(s[0]=[p(`<h1 id="é€ è½®å­-å•æ–‡ä»¶ç®¡å¤šé¡¹ç›®éƒ¨ç½²-git-æœåŠ¡å™¨å…¨æå®š" tabindex="-1">é€ è½®å­ï¼šå•æ–‡ä»¶ç®¡å¤šé¡¹ç›®éƒ¨ç½²ï¼ŒGit / æœåŠ¡å™¨å…¨æå®š <a class="header-anchor" href="#é€ è½®å­-å•æ–‡ä»¶ç®¡å¤šé¡¹ç›®éƒ¨ç½²-git-æœåŠ¡å™¨å…¨æå®š" aria-label="Permalink to &quot;é€ è½®å­ï¼šå•æ–‡ä»¶ç®¡å¤šé¡¹ç›®éƒ¨ç½²ï¼ŒGit / æœåŠ¡å™¨å…¨æå®š&quot;">â€‹</a></h1><p>åšé¡¹ç›®çš„æ—¶å€™,ç»å¸¸ä½¿ç”¨ <em>Adminer</em> æ¥ä¾¿æ·çš„æ“ä½œæ•°æ®åº“,ä¸€ä¸ª PHP æ–‡ä»¶æå®šä¸€åˆ‡,æ¯” phpMyAdmin è¦æ–¹ä¾¿å¾ˆå¤šã€‚ä»”ç»†çš„ç¿»äº†ä¸€ä¸‹ <em>Adminer</em> çš„æºç , å‘ç°å®ƒçš„æ¶æ„è®¾è®¡çœŸçš„ç²¾ç®€,äºæ˜¯æŠŠé¡¹ç›®éƒ¨ç½²ä¸Šçº¿çš„æµç¨‹,ä¹Ÿé€šè¿‡ç›¸åŒçš„æ€è·¯,åšäº†ä¸€ä¸ªç®€å•çš„å•æ–‡ä»¶ä»£ç éƒ¨ç½²å·¥å…·ã€‚æ•ˆæœå¦‚ä¸‹:</p><p><img src="https://raw.githubusercontent.com/pfinal-nc/iGallery/master/blog/202511050901667.png" alt=""></p><h2 id="å·¥å…·ç‰¹æ€§" tabindex="-1">å·¥å…·ç‰¹æ€§ <a class="header-anchor" href="#å·¥å…·ç‰¹æ€§" aria-label="Permalink to &quot;å·¥å…·ç‰¹æ€§&quot;">â€‹</a></h2><ul><li>ğŸš€ <strong>å•æ–‡ä»¶éƒ¨ç½²</strong> - ç±»ä¼¼ Adminerï¼Œä¸€ä¸ª PHP æ–‡ä»¶å³å¯è¿è¡Œ</li><li>ğŸ” <strong>ç”¨æˆ·è®¤è¯</strong> - ç®€å•çš„ç”¨æˆ·åå¯†ç è®¤è¯ç³»ç»Ÿ</li><li>ğŸ“¦ <strong>å¤šé¡¹ç›®ç®¡ç†</strong> - æ”¯æŒç®¡ç†å¤šä¸ªé¡¹ç›®</li><li>ğŸ–¥ï¸ <strong>æœåŠ¡å™¨ç®¡ç†</strong> - æ”¯æŒå¤šä¸ª SSH æœåŠ¡å™¨é…ç½®</li><li>ğŸ”„ <strong>Git éƒ¨ç½²</strong> - åŸºäº Git çš„ä»£ç æ‹‰å–å’Œéƒ¨ç½²</li><li>ğŸ“ <strong>éƒ¨ç½²å†å²</strong> - å®Œæ•´çš„éƒ¨ç½²è®°å½•å’Œæ—¥å¿—æŸ¥çœ‹</li><li>ğŸ”Œ <strong>æ’ä»¶ç³»ç»Ÿ</strong> - æ”¯æŒ Composerã€Artisan ç­‰æ’ä»¶</li><li>ğŸ“Š <strong>Web ç•Œé¢</strong> - å‹å¥½çš„ Web ç®¡ç†ç•Œé¢</li></ul><h2 id="å®‰è£…ä¸ä½¿ç”¨" tabindex="-1">å®‰è£…ä¸ä½¿ç”¨ <a class="header-anchor" href="#å®‰è£…ä¸ä½¿ç”¨" aria-label="Permalink to &quot;å®‰è£…ä¸ä½¿ç”¨&quot;">â€‹</a></h2><h3 id="å¼€å‘æ¨¡å¼" tabindex="-1">å¼€å‘æ¨¡å¼ <a class="header-anchor" href="#å¼€å‘æ¨¡å¼" aria-label="Permalink to &quot;å¼€å‘æ¨¡å¼&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å…‹éš†æˆ–ä¸‹è½½é¡¹ç›®</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pfinal-deployer</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ä½¿ç”¨ PHP å†…ç½®æœåŠ¡å™¨è¿è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> localhost:8090</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deployer.php</span></span></code></pre></div><p>è®¿é—® <code>http://localhost:8090</code><br> é»˜è®¤ç”¨æˆ·å: <code>admin</code><br> é»˜è®¤å¯†ç : <code>admin</code></p><h3 id="ç”Ÿäº§æ¨¡å¼-å•æ–‡ä»¶" tabindex="-1">ç”Ÿäº§æ¨¡å¼ï¼ˆå•æ–‡ä»¶ï¼‰ <a class="header-anchor" href="#ç”Ÿäº§æ¨¡å¼-å•æ–‡ä»¶" aria-label="Permalink to &quot;ç”Ÿäº§æ¨¡å¼ï¼ˆå•æ–‡ä»¶ï¼‰&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ç¼–è¯‘æˆå•æ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compile.php</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># è¿è¡Œå•æ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deployer-single.php</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æˆ–é…ç½®åˆ° Nginx/Apache</span></span></code></pre></div><p><em>ç¼–è¯‘æ•ˆæœå¦‚ä¸‹</em></p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compile.php</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å¼€å§‹ç¼–è¯‘ï¼ˆä¼˜åŒ–æ¨¡å¼ï¼‰...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å¤„ç†:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> core/Logger.php</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å¤„ç†:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lang/zh.php</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å¤„ç†:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> core/Database.php</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å¤„ç†:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> core/SecureStorage.php</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å¤„ç†:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> core/Validator.php</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å¤„ç†:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> core/CSRF.php</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å¤„ç†:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> core/SSHExecutor.php</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å¤„ç†:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> core/GitDeployer.php</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å¤„ç†:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> core/Auth.php</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å¤„ç†:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> core/Deployer.php</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å¤„ç†:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> drivers/SSHDriver.php</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å¤„ç†:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plugins/PluginInterface.php</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å¤„ç†:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plugins/ComposerPlugin.php</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å¤„ç†:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plugins/ArtisanPlugin.php</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å¤„ç†:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ui/css.php</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å¤„ç†:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ui/js.php</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å¤„ç†è§†å›¾:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> login.php</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å¤„ç†è§†å›¾:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dashboard.php</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å¤„ç†è§†å›¾:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> projects.php</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å¤„ç†è§†å›¾:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> project_edit.php</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å¤„ç†è§†å›¾:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> servers.php</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å¤„ç†è§†å›¾:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> server_edit.php</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å¤„ç†è§†å›¾:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deployments.php</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å¤„ç†è§†å›¾:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> change_password.php</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å‹ç¼©ä»£ç ï¼ˆLogger.php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> é£æ ¼ï¼‰...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å‹ç¼©å‰:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 191,638</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bytes</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å‹ç¼©å:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 129,592</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bytes</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å‹ç¼©ç‡:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 32.4%</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å‹ç¼©å‰:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 191,638</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bytes</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å‹ç¼©å:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 129,592</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bytes</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ç¼–è¯‘å®Œæˆ:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deployer-single.php</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">æ–‡ä»¶å¤§å°:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 126.55</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> KB</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">å†™å…¥å­—èŠ‚æ•°:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 129,592</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bytes</span></span></code></pre></div><p><em>ç¼–è¯‘åçš„ä»£ç å¦‚ä¸‹:</em></p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;?</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">php</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">error_reporting</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">E_ALL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ini_set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;display_errors&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ini_set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;display_startup_errors&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">date_default_timezone_set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Asia/Shanghai&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Logger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $logFile</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $logDir</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($logDir</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($logDir</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){$logDir</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">__DIR__</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/storage/logs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">is_dir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($logDir)){</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">mkdir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($logDir,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0755</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">self::</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$logDir</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$logDir;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">self::</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$logFile</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$logDir</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/deployer_&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Y-m-d&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;.log&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($message,$level</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;INFO&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">self::</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$logFile</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">self::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();}$timestamp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Y-m-d H:i:s&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);$logMessage</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;[{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$timestamp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}] [{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$level</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}] {</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$message</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PHP_EOL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">file_put_contents</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">self::</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$logFile,$logMessage,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FILE_APPEND</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> info</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($message){</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">self::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($message,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;INFO&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span></span></code></pre></div><h2 id="ä½¿ç”¨æµç¨‹" tabindex="-1">ä½¿ç”¨æµç¨‹ <a class="header-anchor" href="#ä½¿ç”¨æµç¨‹" aria-label="Permalink to &quot;ä½¿ç”¨æµç¨‹&quot;">â€‹</a></h2><ol><li><p><strong>æ·»åŠ æœåŠ¡å™¨</strong></p><ul><li>ç™»å½•ç³»ç»Ÿ</li><li>è¿›å…¥&quot;æœåŠ¡å™¨&quot;é¡µé¢</li><li>æ·»åŠ  SSH æœåŠ¡å™¨ä¿¡æ¯ï¼šæœåŠ¡å™¨åç§°ã€ä¸»æœºåœ°å€ã€ç«¯å£ã€ç”¨æˆ·åã€SSH å¯†é’¥</li><li>æµ‹è¯•è¿æ¥ <img src="https://raw.githubusercontent.com/pfinal-nc/iGallery/master/blog/202511051100175.png" alt=""></li></ul></li><li><p><strong>æ·»åŠ é¡¹ç›®</strong></p><ul><li>è¿›å…¥&quot;é¡¹ç›®&quot;é¡µé¢</li><li>ç‚¹å‡»&quot;æ·»åŠ é¡¹ç›®&quot;</li><li>å¡«å†™é¡¹ç›®ä¿¡æ¯ï¼šåç§°ã€Git ä»“åº“åœ°å€ã€åˆ†æ”¯ã€éƒ¨ç½²è·¯å¾„ã€é€‰æ‹©æœåŠ¡å™¨ã€éƒ¨ç½²å‰åè„šæœ¬ <img src="https://raw.githubusercontent.com/pfinal-nc/iGallery/master/blog/202511051103480.png" alt=""></li></ul></li><li><p><strong>æ‰§è¡Œéƒ¨ç½²</strong></p><ul><li>åœ¨é¡¹ç›®åˆ—è¡¨æˆ–ä»ªè¡¨æ¿ç‚¹å‡»&quot;éƒ¨ç½²&quot;æŒ‰é’®</li><li>ç³»ç»Ÿè‡ªåŠ¨è¿æ¥æœåŠ¡å™¨ã€æ‹‰å–ä»£ç ã€æ‰§è¡Œè„šæœ¬ã€è¿è¡Œæ’ä»¶ä»»åŠ¡ã€è®°å½•æ—¥å¿— <img src="https://raw.githubusercontent.com/pfinal-nc/iGallery/master/blog/202511051104377.png" alt=""></li></ul></li><li><p><strong>æŸ¥çœ‹éƒ¨ç½²å†å²</strong></p><ul><li>åœ¨&quot;éƒ¨ç½²å†å²&quot;é¡µé¢æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€ã€æäº¤ä¿¡æ¯å’Œè¯¦ç»†æ—¥å¿—</li></ul></li></ol><h2 id="ç›®å½•ç»“æ„" tabindex="-1">ç›®å½•ç»“æ„ <a class="header-anchor" href="#ç›®å½•ç»“æ„" aria-label="Permalink to &quot;ç›®å½•ç»“æ„&quot;">â€‹</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pfinal-deployer/</span></span>
<span class="line"><span>â”œâ”€â”€ deployer.php              # ä¸»å…¥å£æ–‡ä»¶ï¼ˆå¼€å‘æ¨¡å¼ï¼‰</span></span>
<span class="line"><span>â”œâ”€â”€ compile.php               # æ‰“åŒ…è„šæœ¬</span></span>
<span class="line"><span>â”œâ”€â”€ deployer-single.php      # ç¼–è¯‘åçš„å•æ–‡ä»¶</span></span>
<span class="line"><span>â”œâ”€â”€ core/                     # æ ¸å¿ƒç±»</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ Logger.php</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ Database.php</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ Auth.php</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ SSHExecutor.php</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ GitDeployer.php</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ Deployer.php</span></span>
<span class="line"><span>â”‚   â””â”€â”€ Router.php</span></span>
<span class="line"><span>â”œâ”€â”€ drivers/                  # é©±åŠ¨</span></span>
<span class="line"><span>â”‚   â””â”€â”€ SSHDriver.php</span></span>
<span class="line"><span>â”œâ”€â”€ plugins/                  # æ’ä»¶</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ PluginInterface.php</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ ComposerPlugin.php</span></span>
<span class="line"><span>â”‚   â””â”€â”€ ArtisanPlugin.php</span></span>
<span class="line"><span>â”œâ”€â”€ lang/                     # è¯­è¨€åŒ…</span></span>
<span class="line"><span>â”‚   â””â”€â”€ zh.php</span></span>
<span class="line"><span>â”œâ”€â”€ ui/                       # UI èµ„æº</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ css.php</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ js.php</span></span>
<span class="line"><span>â”‚   â””â”€â”€ views/               # è§†å›¾æ–‡ä»¶</span></span>
<span class="line"><span>â”‚       â”œâ”€â”€ login.php</span></span>
<span class="line"><span>â”‚       â”œâ”€â”€ dashboard.php</span></span>
<span class="line"><span>â”‚       â”œâ”€â”€ projects.php</span></span>
<span class="line"><span>â”‚       â”œâ”€â”€ project_edit.php</span></span>
<span class="line"><span>â”‚       â”œâ”€â”€ servers.php</span></span>
<span class="line"><span>â”‚       â”œâ”€â”€ server_edit.php</span></span>
<span class="line"><span>â”‚       â””â”€â”€ deployments.php</span></span>
<span class="line"><span>â””â”€â”€ storage/                  # å­˜å‚¨ç›®å½•</span></span>
<span class="line"><span>    â”œâ”€â”€ deployer.db          # SQLite æ•°æ®åº“</span></span>
<span class="line"><span>    â””â”€â”€ logs/                # æ—¥å¿—æ–‡ä»¶</span></span></code></pre></div><h2 id="æ’ä»¶å¼€å‘" tabindex="-1">æ’ä»¶å¼€å‘ <a class="header-anchor" href="#æ’ä»¶å¼€å‘" aria-label="Permalink to &quot;æ’ä»¶å¼€å‘&quot;">â€‹</a></h2><p>å®ç° PluginInterface æ¥å£å³å¯åˆ›å»ºè‡ªå®šä¹‰æ’ä»¶ï¼š</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyPlugin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> implements</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PluginInterface</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> shouldRun</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($project) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // åˆ¤æ–­æ˜¯å¦åº”è¯¥è¿è¡Œæ­¤æ’ä»¶</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> execute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($sshExecutor, $project) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // æ‰§è¡Œæ’ä»¶é€»è¾‘</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        $command </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;cd {</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$project</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">[&#39;deploy_path&#39;]} &amp;&amp; your-command&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $sshExecutor</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">execute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($command);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>æºç : <a href="https://github.com/PFinal-tool/deployer" target="_blank" rel="noreferrer">https://github.com/PFinal-tool/deployer</a></p>`,23)]))}const E=i(l,[["render",h]]);export{F as __pageData,E as default};
